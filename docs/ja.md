# MCPクライアントチャットボット: ローカルベースのAIアシスタントアプリ

[![Local First](https://img.shields.io/badge/Local-First-blueviolet)](#) 
[![MCP Supported](https://img.shields.io/badge/MCP-Supported-00c853)](https://modelcontextprotocol.io/introduction)

**MCPクライアントチャットボット**は、[OpenAI](https://openai.com/)、[Anthropic](https://www.anthropic.com/)、[Google](https://ai.google.dev/)、[Ollama](https://ollama.com/)など、さまざまなAIモデルプロバイダーを簡単に利用できる多機能なチャットインターフェースです。**何よりも100%ローカル環境で複雑な設定なしで即座に実行**できるように設計されており、個人のコンピュータやサーバーで**便利にコンピューティングリソースを活用し、すべてを直接制御**することができます。

> このアプリは[Vercel AI SDK](https://sdk.vercel.ai)と[Next.js](https://nextjs.org/)を基盤に構築されており、最新のAIチャットインターフェース開発手法を反映しています。
[Model Context Protocol (MCP)](https://modelcontextprotocol.io/introduction)を通じて強力な外部AIツールをスムーズに接続し、活用してチャット体験を最大化しましょう。

> **私たちの目標:** 誰でも簡単に使える、個人に最適化されたAIチャットボットアプリを作ることです。

## 目次

- [MCPクライアントチャットボット: ローカルベースのAIアシスタントアプリ](#mcpクライアントチャットボット-ローカルベースのaiアシスタントアプリ)
  - [目次](#目次)
  - [デモ](#デモ)
  - [✨ 主要機能](#-主要機能)
  - [🚀 クイックスタート](#-クイックスタート)
    - [環境変数の設定](#環境変数の設定)
    - [MCPサーバーの設定](#mcpサーバーの設定)
  - [💡 活用事例](#-活用事例)
  - [🗺️ ロードマップ: 今後追加される機能](#️-ロードマップ-今後追加される機能)
  - [🙌 貢献する](#-貢献する)

-----

## デモ

![mention](./images/preview-2.gif)

**簡単なツール呼び出し:** メッセージ入力欄で '@' 記号を使用して利用可能なMCPツールを簡単に選択して呼び出すことができます。

---

![playwright-demo](./images/preview.gif)

**MCPツール連携例:** Microsoftの[playwright-mcp](https://github.com/microsoft/playwright-mcp)と統合してウェブブラウザを制御する様子です。

*例のプロンプト:* "Redditにアクセスしてr/mcpを開き、最新の投稿を確認して内容を教えてください — そして終わったらRedditを閉じてください。"

---

![tool-test](./images/tool-test.gif)

**独立したツールテスト:** チャットフローとは別にMCPツールの機能を個別にテストして結果を確認できます。

---

![prompt-input](./images/provider.gif)

**モデル＆ツール選択UI:** プロンプト入力欄にLLM選択ボタン、MCPツールの一覧とアクティブ状態を即座に確認して制御できます。

-----

## ✨ 主要機能

* **💻 100%ローカル実行:** 複雑なデプロイプロセスなしで個人PCやサーバーで直接実行し、**コンピューティングリソースを直接活用し、すべてのプロセスを制御します。**
* **🤖 多様なAIモデルサポート:** OpenAI、Anthropic、Google AI、Ollamaなど、希望するAIプロバイダーを自由に選択して接続できます。
* **🛠️ 強力なMCP統合:** Model Context Protocolを通じて外部ツール（ウェブブラウザの自動化、データベース連携など）をチャットに簡単に統合して活用します。
* **🚀 MCPツール単独テスト:** チャットとは別にMCPツールのリクエスト/レスポンスを直接テストして開発およびデバッグ効率を高めます。
* **💬 直感的なツールメンション:** チャット入力欄で `@` キーを押して利用可能なMCPツールを即座に確認して選択して呼び出すことができます。
* **⚙️ 簡単なサーバー設定:** ユーザーフレンドリーなUIまたは簡単な `.mcp-config.json` ファイルの修正を通じてMCPサーバー接続を簡単に管理します。
* **📄 マークダウンUI:** きれいで読みやすいインターフェースでマークダウン形式の会話を交わすことができます。
* **💾 ゼロ設定ローカルDB:** 基本的なSQLiteデータベースを使用して別途設定なしで会話履歴などをロー���ルに保存します（PostgreSQLオプションも提供）。
* **🧩 カスタムMCPサーバーサポート:** 内蔵されたMCPサーバーコードを直接修正して自分だけのツールを作成したりロジックを拡張することができます。

## 🚀 クイックスタート

このプロジェクトは[pnpm](https://pnpm.io/)を推奨パッケージマネージャーとして使用します。

```bash
# 1. 依存関係のインストール
pnpm i

# 2. プロジェクトの初期化 (.envファイルの生成およびDB設定を含む)
pnpm initial

# 3. 開発サーバーの起動
pnpm dev
```

上記のコマンドを実行した後、ウェブブラウザで[http://localhost:3000](https://www.google.com/search?q=http://localhost:3000)にアクセスしてアプリケーションを確認してください。

-----

### 環境変数の設定

`pnpm initial` コマンドを実行するとプロジェクトルートに `.env` ファイルが生成されます。このファイルを開いて使用するAIプロバイダーのAPIキーを追加してください:

```dotenv
GOOGLE_GENERATIVE_AI_API_KEY=****
OPENAI_API_KEY=****
# ANTHROPIC_API_KEY=****
```

基本的にデータはローカルのSQLiteファイル(`db.sqlite`)に保存されます。PostgreSQLの使用を希望する場合は `.env` ファイルの `USE_FILE_SYSTEM_DB=false` に変更し `DATABASE_URL` を設定してください。

-----

### MCPサーバーの設定

MCPサーバー（ツール）を接続する方法はさまざまです:

1.  **UIの活用:** http://localhost:3000/mcp ページでグラフィックインターフェースを通じてMCPサーバーを追加および管理します。
2.  **設定ファイルの直接修正:** プロジェクトルートの `.mcp-config.json` ファイルを直接編集してMCPサーバー情報を構成します。
3.  **カスタムサーバーロジックの作成:** プロジェクト内の `./custom-mcp-server/index.ts` ファイルを修正して自分だけのMCPサーバーロジックを実装したり外部ツールと連携することができます。

![mcp-config](./images/mcp-config.gif)

-----

## 💡 活用事例

  * [Supabase Integration](./use-cases/supabase.md) - MCPを使用してSupabaseデータベースの操作、認証、リアルタイム機能を活用する方法を学びましょう。

-----

## 🗺️ ロードマップ: 今後追加される機能

MCPクライアントチャットボットをさらに強力な個人AIアシスタントにするために、次のような機能を計画しています:

  * **🎨 キャンバス機能:** 協力キャンバス機能: LLMが生成した成果物（コード、ブログ記事、テキストなど）をユーザーとLLMが一緒にリアルタイムで編集し発展させるインターフェース。
  * **🧩 LLM UI生成:** LLMが直接チャート、テーブル、フォームなど動的なUIコンポーネントを生成して表示する��能。
  * **📜 ルール機能:** チャットセッション全体に適用されるユーザー定義のシステムプロンプトまたはルール設定。
  * **🖼️ 画像生成およびファイルアップロード:** 画像生成リクエストおよびファイル（ドキュメント、画像など）アップロードを通じたマルチモーダル相互作用のサポート。
  * **🐙 GitHubプロジェクトマウント:** ローカルのGitHubリポジトリをマウントしてコード関連の質問および作業を実行。
  * **📚 RAGエージェント:** 自身のドキュメントやデータを基に回答を生成するRetrieval-Augmented Generation機能。
  * **🧠 プランニングエージェント:** 複雑な作業を段階的に計画し実行するより知的なエージェントの実装。
  * **🧑‍💻 エージェント生成機能:** ユーザーが特定の目的を持つカスタムAIエージェントを簡単に定義し生成できるツール。

👉 全体のロードマップは[ROADMAP.md](./ROADMAP.md)で確認してください\!

-----

## 🙌 貢献する

MCPクライアントチャットボットプロジェクトへの貢献をいつでも歓迎します\! バグ報告、新機能の提案、コードの改善など、どんな形の貢献でも構いません。皆さんの助けでこのプロジェクトをさらに素晴らしいものにすることができます。

一緒に最高の個人AIアシスタントを作りましょう\!
